<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>The C++ Programming Language Notes</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<meta name="title" content="The C++ Programming Language Notes"/>
<meta name="generator" content="Org-mode"/>
<meta name="generated" content="2012-08-31 23:10:18 HKT"/>
<meta name="author" content="Shi Shougang"/>
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  html { font-family: Times, serif; font-size: 12pt; }
  .title  { text-align: center; }
  .todo   { color: red; }
  .done   { color: green; }
  .tag    { background-color: #add8e6; font-weight:normal }
  .target { }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  {margin-left:auto; margin-right:0px;  text-align:right;}
  .left   {margin-left:0px;  margin-right:auto; text-align:left;}
  .center {margin-left:auto; margin-right:auto; text-align:center;}
  p.verse { margin-left: 3% }
  pre {
	border: 1pt solid #AEBDCC;
	background-color: #F3F5F7;
	padding: 5pt;
	font-family: courier, monospace;
        font-size: 90%;
        overflow:auto;
  }
  table { border-collapse: collapse; }
  td, th { vertical-align: top;  }
  th.right  { text-align:center;  }
  th.left   { text-align:center;   }
  th.center { text-align:center; }
  td.right  { text-align:right;  }
  td.left   { text-align:left;   }
  td.center { text-align:center; }
  dt { font-weight: bold; }
  div.figure { padding: 0.5em; }
  div.figure p { text-align: center; }
  div.inlinetask {
    padding:10px;
    border:2px solid gray;
    margin:10px;
    background: #ffffcc;
  }
  textarea { overflow-x: auto; }
  .linenr { font-size:smaller }
  .code-highlighted {background-color:#ffff00;}
  .org-info-js_info-navigation { border-style:none; }
  #org-info-js_console-label { font-size:10px; font-weight:bold;
                               white-space:nowrap; }
  .org-info-js_search-highlight {background-color:#ffff00; color:#000000;
                                 font-weight:bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="../../assets/stylesheet.css" />
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>

</head>
<body>
<div id="org-div-home-and-up" style="text-align:right;font-size:70%;white-space:nowrap;">
 <a accesskey="h" href="../../index.html"> UP </a>
 |
 <a accesskey="H" href="../../index.html"> HOME </a>
</div>

<div id="preamble">

</div>

<div id="content">
<h1 class="title">The C++ Programming Language Notes</h1>


<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">Overview</a></li>
<li><a href="#sec-2">Preface</a></li>
<li><a href="#sec-3">Chapter 1 Notes to the Reader</a>
<ul>
<li><a href="#sec-3-1">1.3.1</a></li>
<li><a href="#sec-3-2">1.6.1 Suggestions for C Programmers</a></li>
<li><a href="#sec-3-3">1.8 Advice</a></li>
</ul>
</li>
<li><a href="#sec-4">Chapter 2 A Tour of C++</a>
<ul>
<li><a href="#sec-4-1">2.5.4 Abstract Types</a></li>
<li><a href="#sec-4-2">2.7.1 Containers</a></li>
</ul>
</li>
<li><a href="#sec-5">Chapter 3 A Tour of the Standard Library</a>
<ul>
<li><a href="#sec-5-1">3.5.1 CStyle Strings</a></li>
<li><a href="#sec-5-2">3.7 Containers</a></li>
<li><a href="#sec-5-3">3.8</a></li>
<li><a href="#sec-5-4">3.11 Advice</a></li>
</ul>
</li>
<li><a href="#sec-6">Chapter 4 Types and Declarations</a>
<ul>
<li><a href="#sec-6-1">4.2 Booleans</a></li>
<li><a href="#sec-6-2">4.3 Character Types</a></li>
<li><a href="#sec-6-3">4.4 Integer Types</a></li>
<li><a href="#sec-6-4">4.6 Sizes</a></li>
<li><a href="#sec-6-5">4.8 Enumerations</a></li>
<li><a href="#sec-6-6">4.9</a></li>
<li><a href="#sec-6-7">4.10 Advice</a></li>
</ul>
</li>
<li><a href="#sec-7">Chapter 5 Pointers, Arrays, and Structures</a>
<ul>
<li><a href="#sec-7-1">5.1 Pointers</a></li>
<li><a href="#sec-7-2">5.2 Arrays</a></li>
</ul>
</li>
<li><a href="#sec-8">Chapter 6 Expressions and Statements</a></li>
<li><a href="#sec-9">Chapter 7 Functions</a></li>
<li><a href="#sec-10">Chapter 8 Namespaces and Exceptions</a></li>
<li><a href="#sec-11">Chapter 9 Source Files and Programs</a></li>
<li><a href="#sec-12">Chapter 10 Classes</a></li>
<li><a href="#sec-13">Chapter 11 Operator Overloading</a></li>
<li><a href="#sec-14">Chapter 12 Derived Classes</a></li>
<li><a href="#sec-15">Chapter 13 Templates</a></li>
<li><a href="#sec-16">Chapter 14 Exceptions Handling</a></li>
<li><a href="#sec-17">Chapter 15 Class Hierarchies</a></li>
<li><a href="#sec-18">Chapter 16 Library Organization and Containers</a></li>
<li><a href="#sec-19">Chapter 17 Standard Containers</a></li>
<li><a href="#sec-20">Chapter 18 Algorithms and Function Objects</a></li>
<li><a href="#sec-21">Chapter 19 Iterators and Allocators</a></li>
<li><a href="#sec-22">Chapter 20 Strings</a></li>
<li><a href="#sec-23">Chapter 21 Streams</a></li>
<li><a href="#sec-24">Chapter 22 Numerics</a></li>
<li><a href="#sec-25">Chapter 23 Developing and Design</a></li>
<li><a href="#sec-26">Chapter 24 Design and Programming</a></li>
<li><a href="#sec-27">Chapter 25 Roles of Classes</a></li>
<li><a href="#sec-28">Appendix A</a></li>
<li><a href="#sec-29">Appendix B</a></li>
<li><a href="#sec-30">Appendix C</a></li>
</ul>
</div>
</div>

<div id="outline-container-1" class="outline-2">
<h2 id="sec-1">Overview</h2>
<div class="outline-text-2" id="text-1">

<p>Homepage:
<a href="http://iskren.info/reading/info/C++/other/Bjarne Stroustrup Web Site/3rd.html">http://iskren.info/reading/info/C++/other/Bjarne%20Stroustrup%20Web%20Site/3rd.html</a>
</p>
<p>
Bjarne Stroustrup's FAQ:
<a href="http://iskren.info/reading/info/C++/other/Bjarne Stroustrup Web Site/bs_faq.html#SE">http://iskren.info/reading/info/C++/other/Bjarne%20Stroustrup%20Web%20Site/bs_faq.html#SE</a>
</p>
<p>
Code Examples from "The C++ Programming Language"
<a href="http://iskren.info/reading/info/C++/other/Bjarne Stroustrup Web Site/3rd_code.html">http://iskren.info/reading/info/C++/other/Bjarne%20Stroustrup%20Web%20Site/3rd_code.html</a>
</p>
<p>
C++ Solutions
<a href="http://www.vandevoorde.com/C++Solutions/">http://www.vandevoorde.com/C++Solutions/</a>
</p>
<p>
Errata for 5th/15th printing of The C++ Programming Language
<a href="http://www.math.pku.edu.cn/teachers/qiuzy/books/cppl/3rd_printing16.htm">http://www.math.pku.edu.cn/teachers/qiuzy/books/cppl/3rd_printing16.htm</a>
</p>
</div>

</div>

<div id="outline-container-2" class="outline-2">
<h2 id="sec-2">Preface</h2>
<div class="outline-text-2" id="text-2">

<p>A programmer can partition an application into manageable pieces by
defining new types that closely match the concepts of the application.
This technique for program construction is often called <b>data abstraction</b>.
</p>
<p>
Objects of some user-defined types contain type information. Programs
using objects of such types are often called <b>object based</b>.
</p></div>

</div>

<div id="outline-container-3" class="outline-2">
<h2 id="sec-3">Chapter 1 Notes to the Reader</h2>
<div class="outline-text-2" id="text-3">


</div>

<div id="outline-container-3-1" class="outline-3">
<h3 id="sec-3-1">1.3.1</h3>
<div class="outline-text-3" id="text-3-1">

<p>Except for the <code>new</code>, <code>delete</code>, <code>typeid</code>, <code>dynamic_cast</code>, and <code>throw</code>
operators and the <code>try-block</code>, individual C++ expression and
statements need no run-time support.
</p></div>

</div>

<div id="outline-container-3-2" class="outline-3">
<h3 id="sec-3-2">1.6.1 Suggestions for C Programmers</h3>
<div class="outline-text-3" id="text-3-2">

<ol>
<li>Macros are almost never necessary in C++. Use c o n s t (§5.4) or e n u m (§4.8) to define manifest
    constants, i n l i n e (§7.1.1) to avoid function-calling overhead, t e m p l a t e s (Chapter 13) to
    specify families of functions and types, and n a m e s p a c e s (§8.2) to avoid name clashes.
</li>
<li>Don’t declare a variable before you need it so that you can initialize it immediately. A
   declaration can occur anywhere a statement can (§6.3.1), in for-statement initializers
   (§6.3.3), and in conditions (§6.3.2.1).
</li>
<li>Don’t use <code>malloc()</code>. The n e w operator (§6.2.6) does the same job better, and instead of
    r e a l l o c (), try a v e c t o r (§3.8).
</li>
<li>Try to avoid v o i d *, pointer arithmetic, unions, and casts, except deep within the implementation
   of some function or class. In most cases, a cast is an indication of a design error. If
   you must use an explicit type conversion, try using one of the ‘‘new casts’’ (§6.2.7) for a
   more precise statement of what you are trying to do.
</li>
<li>Minimize the use of arrays and C-style strings. The C++ standard library s t r i n g (§3.5) and
   v e c t o r (§3.7.1) classes can often be used to simplify programming compared to traditional C
   style. In general, try not to build yourself what has already been provided by the standard
   library.
</li>
</ol>

</div>

</div>

<div id="outline-container-3-3" class="outline-3">
<h3 id="sec-3-3">1.8 Advice</h3>
<div class="outline-text-3" id="text-3-3">

<ol>
<li>When you program, you create a concrete representation of the ideas in your solution to some
   problem. Let the structure of the program reflect those ideas as
   directly as possible:
</li>
</ol>


<p class="verse">
[a] If you can think of ‘‘it’’ as a separate idea, make it a class.<br/>
[b] If you can think of ‘‘it’’ as a separate entity, make it an object of some class.<br/>
[c] If two classes have a common interface, make that interface an abstract class.<br/>
[d] If the implementations of two classes have something significant in common, make that commonality a base class.<br/>
[e] If a class is a container of objects, make it a template.<br/>
[f] If a function implements an algorithm for a container, make it a template function implementing the algorithm for a family of containers.<br/>
[g] If a set of classes, templates, etc., are logically related, place them in a common namespace.<br/>
</p>


<ol>
<li>When you define either a class that does not implement either a mathematical entity like a
   matrix or a complex number or a low-level type such as a linked
   list:
</li>
</ol>


<p class="verse">
[a] Don’t use global data (use members).<br/>
[b] Don’t use global functions.<br/>
[c] Don’t use public data members.<br/>
[d] Don’t use friends, except to avoid [a] or [c].<br/>
[e] Don’t put a ‘‘type field’’ in a class; use virtual functions.<br/>
[f] Don’t use inline functions, except as a significant optimization.<br/>
</p>


</div>
</div>

</div>

<div id="outline-container-4" class="outline-2">
<h2 id="sec-4">Chapter 2 A Tour of C++</h2>
<div class="outline-text-2" id="text-4">


</div>

<div id="outline-container-4-1" class="outline-3">
<h3 id="sec-4-1">2.5.4 Abstract Types</h3>
<div class="outline-text-3" id="text-4-1">




<pre class="src src-c++"><span style="color: #00ffff;">class</span> <span style="color: #98fb98;">Stack</span>{
<span style="color: #00ffff;">public</span>:
  <span style="color: #00ffff;">virtual</span> <span style="color: #98fb98;">void</span> <span style="color: #87cefa;">push</span>(<span style="color: #98fb98;">char</span> <span style="color: #eedd82;">c</span>) = 0;
  <span style="color: #00ffff;">virtual</span> <span style="color: #98fb98;">char</span> <span style="color: #87cefa;">pop</span>() = 0;
};
</pre>

<p>
The word <b>virtual</b> means "may be redefined later in a class derived
from this one" in Simula and C++.
</p>
<p>
The curious <code>=0</code> syntax says that some class derived from <b>Stack</b> must
define the function.
</p>
</div>

</div>

<div id="outline-container-4-2" class="outline-3">
<h3 id="sec-4-2">2.7.1 Containers</h3>
<div class="outline-text-3" id="text-4-2">

<p>A class holding a collection of elements of some type is commonly
called a container class, or simply a container.
</p>
<p>
<i>Templates</i> are a <b>compile-time mechanism</b> so that their use incurs no
run-time overhead compared to ‘‘handwritten code.’’
</p>
</div>
</div>

</div>

<div id="outline-container-5" class="outline-2">
<h2 id="sec-5">Chapter 3 A Tour of the Standard Library</h2>
<div class="outline-text-2" id="text-5">


</div>

<div id="outline-container-5-1" class="outline-3">
<h3 id="sec-5-1">3.5.1 CStyle Strings</h3>
<div class="outline-text-3" id="text-5-1">

<p>To call functions that take C-style strings, we need to be able to
extract the value of a <code>string</code> in the form of a C-style string. The
<code>c_str()</code> function does that.
</p></div>

</div>

<div id="outline-container-5-2" class="outline-3">
<h3 id="sec-5-2">3.7 Containers</h3>
<div class="outline-text-3" id="text-5-2">

<p>A class with the main purpose of holding objects is commonly called a <i>container</i>.
</p><ul>
<li id="sec-5-2-1">3.7.3 List<br/>
Every standard library container provides the functions <code>begin()</code>
and <code>end()</code>, which return an iterator to the first and to
one-past-the-last element, respectively (§16.3.2).

<p>
When we don’t need to modify an element of the container,
<code>const_iterator</code> is the type we want. Otherwise, we use the plain <code>iterator</code> type (§16.3.1).
</p>
</li>
</ul>
<ul>
<li id="sec-5-2-2">3.7.5 Standard Containers<br/>

<p class="verse">
&nbsp;&nbsp; <b>Standard Container Summary</b><br/>
<code>vecotr&lt;T&gt;</code>           A variable-sized vector (§16.3)<br/>
<code>list&lt;T&gt;</code>             A doubly-linked list (§17.2.2)<br/>
<code>queue&lt;T&gt;</code>            A queue (§17.3.2)<br/>
<code>stack&lt;T&gt;</code>            A stack (§17.3.1)<br/>
<code>deque&lt;T&gt;</code>            A double-ended queue (§17.2.3)<br/>
<code>priority queue&lt;T&gt;</code>   A queue sorted by value (§17.3.3)<br/>
<code>set&lt;T&gt;</code>              A set (§17.4.3)<br/>
<code>multiset&lt;T&gt;</code>         A set in which a value can occur many times (§17.4.4)<br/>
<code>map&lt;key,val&gt;</code>        An associative array (§17.4.1)<br/>
<code>multimap&lt;key,val&gt;</code>    A map in which a key can occur many times (§17.4.2)<br/>
</p>


</li>
</ul>
</div>

</div>

<div id="outline-container-5-3" class="outline-3">
<h3 id="sec-5-3">3.8</h3>
<div class="outline-text-3" id="text-5-3">

<ul>
<li id="sec-5-3-1">3.8.2 Iterator Types<br/>
Any particular iterator is an object of some type. There are, however,
many different iterator types because an iterator needs to hold the information necessary for doing
its job for a particular container type. These iterator types can be as different as the containers and
the specialized needs they serve.

<p>
In fact, any object that obeys a few simple rules like these is an iterator (§19.2.1).
</p></li>
</ul>
<ul>
<li id="sec-5-3-2">3.8.4 Traversals and Predicates<br/>



<pre class="src src-c++"><span style="color: #98fb98;">bool</span> <span style="color: #87cefa;">gt_42</span>(<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">pair</span>&lt;<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">string</span>, <span style="color: #98fb98;">int</span>&gt;&amp; <span style="color: #eedd82;">r</span>)
{
  <span style="color: #00ffff;">return</span> r.second &gt; 42;
}

<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">g</span>(<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">map</span>&lt;<span style="color: #98fb98;">string</span>, <span style="color: #98fb98;">int</span>&gt;&amp; <span style="color: #eedd82;">m</span>)
{
  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">c42</span> = conunt_if(m.begin(), m.end(), gt_42);
}
</pre>

<p>
A function, such as gt<sub>42</sub>(), that is used to control the algorithm is
called a <i>predicate</i>. A <i>predicate</i> is called for each element and
returns a Boolean value, which the algorithm uses to perform its
intended action.
</p>



<pre class="src src-c++"><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">g</span>(<span style="color: #98fb98;">list</span>&lt;<span style="color: #98fb98;">Shape</span> *&gt;&amp; <span style="color: #eedd82;">sh</span>)
{
  for_each(sh.begin(), sh.end(), mem_fun(&amp;<span style="color: #7fffd4;">Shape</span>::draw));
}
</pre>

<p>
The standard library mem<sub>fun</sub>() template (§18.4.4.2) takes a pointer to a member function (§15.5)
as its argument and produces something that can be called for a pointer to the member’s class. The
result of mem<sub>fun</sub> (&amp;Shape::draw) takes a Shape * argument and returns
whatever Shape::draw() returns.
</p></li>
</ul>
<ul>
<li id="sec-5-3-3">3.8.6 Standard Library Algorithms<br/>
The algorithms are defined in namespace std and presented in the
&lt;algorithm&gt; header. Here are a few I have found particularly useful:

<p class="verse">
&nbsp;&nbsp; <b>Selected Standard Algorithms</b><br/>
for<sub>each</sub>()         Invoke function for each element (§18.5.1)<br/>
find()             Find first occurrence of arguments (§18.5.2)<br/>
find<sub>if</sub>()          Find first match of predicate (§18.5.2)<br/>
count()            Count occurrences of element (§18.5.3)<br/>
count<sub>if</sub>()         Count matches of predicate (§18.5.3)<br/>
replace()          Replace element with new value (§18.6.4)<br/>
replace<sub>if</sub>()       Replace element that matches predicate with new value (§18.6.4)<br/>
copy()             Copy elements (§18.6.1)<br/>
unique<sub>copy</sub>()      Copy elements that are not duplicates (§18.6.1)<br/>
sort()             Sort elements (§18.7.1)<br/>
equal<sub>range</sub>()      Find all elements with equivalent values (§18.7.2)<br/>
merge()            Merge sorted sequences (§18.7.3)<br/>
</p>


</li>
</ul>
</div>

</div>

<div id="outline-container-5-4" class="outline-3">
<h3 id="sec-5-4">3.11 Advice</h3>
<div class="outline-text-3" id="text-5-4">


<p class="verse">
<code>[2]</code> Don’t believe in magic; understand what your libraries do, how<br/>
they do it, and at what cost they do it.<br/>
<code>[7]</code> Use string rather than char *; §3.5, §3.6.<br/>
<code>[12]</code> Catch common exceptions in main(); §3.7.2.<br/>
</p>




</div>
</div>

</div>

<div id="outline-container-6" class="outline-2">
<h2 id="sec-6">Chapter 4 Types and Declarations</h2>
<div class="outline-text-2" id="text-6">


</div>

<div id="outline-container-6-1" class="outline-3">
<h3 id="sec-6-1">4.2 Booleans</h3>
<div class="outline-text-3" id="text-6-1">

<p>A pointer can be implicitly converted to a <b>bool</b>. A nonzero pointer
converts to <b>true</b>; zero valued pointers convert to <b>false</b>.
</p>
</div>

</div>

<div id="outline-container-6-2" class="outline-3">
<h3 id="sec-6-2">4.3 Character Types</h3>
<div class="outline-text-3" id="text-6-2">

<p>The possibility of converting a <code>char</code> to an integer raises the
question: is a <code>char</code> signed or unsigned? 
</p>
<p>
The 256 values represented by an 8bit byte can be interpreted as the
values 0 to 255 or as the values 127 to 127. Unfortunately, which
choice is made for a plain <code>char</code> is implementation-defined (§C.1,
§C.3.4).
</p>
<p>
A type <code>wchar_t</code> is provided to hold characters of a larger
character set such as Unicode.
</p><ul>
<li id="sec-6-2-1">4.3.1 Character Literals<br/>
Wide character literals are of the form <code>L´ab´</code>, where the number of
characters between the quotes and their meanings is implementation-defined
to match the <code>wchar_t</code> type.

</li>
</ul>
</div>

</div>

<div id="outline-container-6-3" class="outline-3">
<h3 id="sec-6-3">4.4 Integer Types</h3>
<div class="outline-text-3" id="text-6-3">

<p>Unlike plain <code>char</code> s, plain <code>int</code> s are always signed.
</p>
<ul>
<li id="sec-6-3-1">4.4.1 Integer Literals<br/>
The suffix U can be used to write explicitly <code>unsigned</code> literals.
Similarly, the suffix L can be used to write explicitly <code>long</code>
literals. For example, <code>3</code> is an <code>int</code> , <code>3U</code> is an <code>unsigned int</code>
, and <code>3L</code> is a <code>long int</code>.

</li>
</ul>
<ul>
<li id="sec-6-3-2">4.5.1 Floating-Point Literals<br/>
By default, a floating-point literal is of type <code>double</code>. 

<p>
If you want a floating-point literal of type <code>float</code>, you can define
one using the suffix f or F :
</p>
<p>
<code>3.14f  2.0f 1.99F</code>
</p></li>
</ul>
</div>

</div>

<div id="outline-container-6-4" class="outline-3">
<h3 id="sec-6-4">4.6 Sizes</h3>
<div class="outline-text-3" id="text-6-4">

<p>When needed, implementation-dependent aspects about an implementation
can be found in <code>&lt;limits&gt;</code>
</p>



<pre class="src src-c++"><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;limits&gt;</span>

<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>()
{
  cout &lt;&lt; <span style="color: #ffa07a;">"largest float == "</span> &lt;&lt; <span style="color: #7fffd4;">numeric_limits</span>&lt;<span style="color: #98fb98;">float</span>&gt;::max()
       &lt;&lt; <span style="color: #ffa07a;">", char is signed == "</span> &lt;&lt; <span style="color: #7fffd4;">numeric_limits</span>&lt;<span style="color: #98fb98;">char</span>&gt;::is_signed &lt;&lt; <span style="color: #ffa07a;">'\n'</span>;
}
</pre>

</div>

</div>

<div id="outline-container-6-5" class="outline-3">
<h3 id="sec-6-5">4.8 Enumerations</h3>
<div class="outline-text-3" id="text-6-5">

<p>The
range of an enumeration holds all the enumeration’s enumerator values
rounded up to the nearest larger binary power minus 1 . The range goes
down to 0 if the smallest enumerator is non-negative
</p>



<pre class="src src-c++"><span style="color: #00ffff;">enum</span> <span style="color: #98fb98;">e1</span> { <span style="color: #eedd82;">dark</span>, <span style="color: #eedd82;">light</span> };          <span style="color: #ff7f24;">//</span><span style="color: #ff7f24;">range 0:1</span>
<span style="color: #00ffff;">enum</span> <span style="color: #98fb98;">e2</span> { <span style="color: #eedd82;">a</span> = 3, <span style="color: #eedd82;">b</span> = 9 };         <span style="color: #ff7f24;">//</span><span style="color: #ff7f24;">range 0:15</span>
<span style="color: #00ffff;">enum</span> <span style="color: #98fb98;">e3</span> { <span style="color: #eedd82;">min</span> = -10, <span style="color: #eedd82;">max</span> = 1000000 }; <span style="color: #ff7f24;">//</span><span style="color: #ff7f24;">range: -1048576:1048575</span>
</pre>


<p>
A value of integral type may be explicitly converted to an enumeration
type. The result of such a conversion is undefined unless the value is
within the range of the enumeration.
</p>



<pre class="src src-c++"><span style="color: #00ffff;">enum</span> <span style="color: #98fb98;">flag</span> { <span style="color: #eedd82;">x</span> = 1, <span style="color: #eedd82;">y</span> = 2, <span style="color: #eedd82;">z</span> = 4, <span style="color: #eedd82;">e</span> = 8 }; <span style="color: #ff7f24;">//</span><span style="color: #ff7f24;">range 0:15</span>
<span style="color: #98fb98;">flag</span> <span style="color: #eedd82;">f1</span> = 5;   <span style="color: #ff7f24;">//</span><span style="color: #ff7f24;">type error: 5 is not of type flag</span>
<span style="color: #98fb98;">flag</span> <span style="color: #eedd82;">f2</span> = flag(5); <span style="color: #ff7f24;">//</span><span style="color: #ff7f24;">ok: flag(5) is of type flag and within the range of flag</span>
</pre>


<p>
By default, enumerations are converted to integers for arithmetic
operations (§6.2). An enumeration is a user-defined type, so users can
define their own operations, such as ++ and &lt;&lt; for an enumeration (§11.2.3).
</p>
</div>

</div>

<div id="outline-container-6-6" class="outline-3">
<h3 id="sec-6-6">4.9</h3>
<div class="outline-text-3" id="text-6-6">

<ul>
<li id="sec-6-6-1">4.9.1 The Structure of a Declaration<br/>
The postfix declarator operators bind tighter than the prefix ones.
Consequently, <code>*kings[]</code> is a vector of pointers to something, and
we have to use parentheses to express types such as ‘‘pointer to function;’’
</li>
</ul>
<ul>
<li id="sec-6-6-2">4.9.4 Scope<br/>
A hidden global name can be referred to using the scope resolution
operator <code>::</code>.



<pre class="src src-c++"><span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>;

<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">f2</span>()
{
  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span> = 1; <span style="color: #ff7f24;">//</span><span style="color: #ff7f24;">hide global x</span>
  ::x = 2;  <span style="color: #ff7f24;">//</span><span style="color: #ff7f24;">assign to globlal x</span>
  x = 2;   <span style="color: #ff7f24;">//</span><span style="color: #ff7f24;">assign to local x</span>
}
</pre>


</li>
</ul>
<ul>
<li id="sec-6-6-3">4.9.5 Initialization<br/>
If no initializer is specified, a global (§4.9.4), namespace (§8.2), or
local static object (§7.1.2, §10.2.4) (collectively called static
objects) is initialized to 0 of the appropriate type.
</li>
</ul>
<ul>
<li id="sec-6-6-4">4.9.6 Objects and Lvalues<br/>
That is, an <i>object</i> is a contiguous region of storage; an <i>lvalue</i> is an
expression that refers to an object.
</li>
</ul>
</div>

</div>

<div id="outline-container-6-7" class="outline-3">
<h3 id="sec-6-7">4.10 Advice</h3>
<div class="outline-text-3" id="text-6-7">


<p class="verse">
<code>[4]</code> Keep common and local names short, and keep uncommon and nonlocal names longer; §4.9.3.<br/>
<code>[5]</code> Avoid similar-looking names; §4.9.3.<br/>
<code>[6]</code> Maintain a consistent naming style; §4.9.3.<br/>
<code>[9]</code> Use <code>typedef</code> s to define synonyms for types; use enumerations and classes to define new types;<br/>
<code>[18]</code> Avoid unsigned arithmetic; §4.4.<br/>
<code>[19]</code> View signed to unsigned and unsigned to signed conversions with suspicion; §C.6.2.6.<br/>
<code>[20]</code> View floatin-gpoint to integer conversions with suspicion; §C.6.2.6.<br/>
<code>[21]</code> View conversions to a smaller type, such as int to char , with suspicion; §C.6.2.6.<br/>
</p>








</div>
</div>

</div>

<div id="outline-container-7" class="outline-2">
<h2 id="sec-7">Chapter 5 Pointers, Arrays, and Structures</h2>
<div class="outline-text-2" id="text-7">


</div>

<div id="outline-container-7-1" class="outline-3">
<h3 id="sec-7-1">5.1 Pointers</h3>
<div class="outline-text-3" id="text-7-1">

<p>The fundamental operation on a pointer is <i>dereferencing</i>, that is,
referring to the object pointed to by the pointer. This operation is
also called <i>indirection</i>.
</p><ul>
<li id="sec-7-1-1">5.1.1 Zero<br/>
 <b>Zero (0)</b> is an <code>int</code>. Because of standard conversions (§C.6.2.3), 0
  can be used as a constant of any integral (§4.1.1), floating-point,
  pointer, or pointer-to-member type. The type of zero will be
  determined by context.

<p>
In C, it has been popular to define a macro <code>NULL</code> to represent the
zero pointer. Because of C++’s tighter type checking, the use of plain
0 , rather than any suggested <code>NULL</code> macro, leads to fewer problems.
</p>
</li>
</ul>
</div>

</div>

<div id="outline-container-7-2" class="outline-3">
<h3 id="sec-7-2">5.2 Arrays</h3>
<div class="outline-text-3" id="text-7-2">

<p>The number of elements of the array, the array bound, must be a
<b>constant expression</b>. If you need variable bounds, use a <code>vector</code>.
</p>



<pre class="src src-c++"><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">f</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">i</span>)
{
  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">v1</span>[i];     <span style="color: #ff7f24;">//</span><span style="color: #ff7f24;">error: array size not a constant expression</span>
  <span style="color: #98fb98;">vector</span>&lt;<span style="color: #98fb98;">int</span>&gt; <span style="color: #eedd82;">v2</span>[i]; <span style="color: #ff7f24;">// </span><span style="color: #ff7f24;">ok</span>
}
</pre>


<ul>
<li id="sec-7-2-1">5.2.1 Array Initializers<br/>
If the initializer supplies too few elements, 0 is assumed for the
remaining array elements. For example:



<pre class="src src-c++"><span style="color: #98fb98;">char</span> <span style="color: #eedd82;">v5</span>[8] = { 1, 2, 3, 4};
is equivalent to
<span style="color: #98fb98;">char</span> <span style="color: #eedd82;">v5</span>[8] = { 1, 2, 3, 4, 0, 0, 0, 0};
</pre>

</li>
</ul>
<ul>
<li id="sec-7-2-2">5.2.2 String Literals<br/>
Whether two identical character literals are allocated as one is
implementation-defined. For example:



<pre class="src src-c++"><span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span>* <span style="color: #eedd82;">p</span> = <span style="color: #ffa07a;">"Heraclitus"</span>;
<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span>* <span style="color: #eedd82;">q</span> = <span style="color: #ffa07a;">"Heraclitus"</span>;

<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">g</span>()
{
  <span style="color: #00ffff;">if</span>(p == q) cout&lt;&lt; <span style="color: #ffa07a;">"one \n"</span>; <span style="color: #ff7f24;">//</span><span style="color: #ff7f24;">result is implementation-defined</span>
  <span style="color: #ff7f24;">//</span><span style="color: #ff7f24;">..</span>
}
</pre>


<p>
The empty string is written as a pair of adjacent double quotes, "",
(and has the type <code>const char[1]</code>).
</p>
<p>
A string with the prefix <code>L</code>, such as <code>{L"angst"}</code> , is a string of wide characters (§4.3, §C.3.3). Its
type is .
</p>


</li>
</ul>
</div>
</div>

</div>

<div id="outline-container-8" class="outline-2">
<h2 id="sec-8">Chapter 6 Expressions and Statements</h2>
<div class="outline-text-2" id="text-8">


</div>

</div>

<div id="outline-container-9" class="outline-2">
<h2 id="sec-9">Chapter 7 Functions</h2>
<div class="outline-text-2" id="text-9">


</div>

</div>

<div id="outline-container-10" class="outline-2">
<h2 id="sec-10">Chapter 8 Namespaces and Exceptions</h2>
<div class="outline-text-2" id="text-10">


</div>

</div>

<div id="outline-container-11" class="outline-2">
<h2 id="sec-11">Chapter 9 Source Files and Programs</h2>
<div class="outline-text-2" id="text-11">


</div>

</div>

<div id="outline-container-12" class="outline-2">
<h2 id="sec-12">Chapter 10 Classes</h2>
<div class="outline-text-2" id="text-12">


</div>

</div>

<div id="outline-container-13" class="outline-2">
<h2 id="sec-13">Chapter 11 Operator Overloading</h2>
<div class="outline-text-2" id="text-13">


</div>

</div>

<div id="outline-container-14" class="outline-2">
<h2 id="sec-14">Chapter 12 Derived Classes</h2>
<div class="outline-text-2" id="text-14">


</div>

</div>

<div id="outline-container-15" class="outline-2">
<h2 id="sec-15">Chapter 13 Templates</h2>
<div class="outline-text-2" id="text-15">


</div>

</div>

<div id="outline-container-16" class="outline-2">
<h2 id="sec-16">Chapter 14 Exceptions Handling</h2>
<div class="outline-text-2" id="text-16">


</div>

</div>

<div id="outline-container-17" class="outline-2">
<h2 id="sec-17">Chapter 15 Class Hierarchies</h2>
<div class="outline-text-2" id="text-17">


</div>

</div>

<div id="outline-container-18" class="outline-2">
<h2 id="sec-18">Chapter 16 Library Organization and Containers</h2>
<div class="outline-text-2" id="text-18">


</div>

</div>

<div id="outline-container-19" class="outline-2">
<h2 id="sec-19">Chapter 17 Standard Containers</h2>
<div class="outline-text-2" id="text-19">


</div>

</div>

<div id="outline-container-20" class="outline-2">
<h2 id="sec-20">Chapter 18 Algorithms and Function Objects</h2>
<div class="outline-text-2" id="text-20">


</div>

</div>

<div id="outline-container-21" class="outline-2">
<h2 id="sec-21">Chapter 19 Iterators and Allocators</h2>
<div class="outline-text-2" id="text-21">


</div>

</div>

<div id="outline-container-22" class="outline-2">
<h2 id="sec-22">Chapter 20 Strings</h2>
<div class="outline-text-2" id="text-22">


</div>

</div>

<div id="outline-container-23" class="outline-2">
<h2 id="sec-23">Chapter 21 Streams</h2>
<div class="outline-text-2" id="text-23">


</div>

</div>

<div id="outline-container-24" class="outline-2">
<h2 id="sec-24">Chapter 22 Numerics</h2>
<div class="outline-text-2" id="text-24">


</div>

</div>

<div id="outline-container-25" class="outline-2">
<h2 id="sec-25">Chapter 23 Developing and Design</h2>
<div class="outline-text-2" id="text-25">


</div>

</div>

<div id="outline-container-26" class="outline-2">
<h2 id="sec-26">Chapter 24 Design and Programming</h2>
<div class="outline-text-2" id="text-26">


</div>

</div>

<div id="outline-container-27" class="outline-2">
<h2 id="sec-27">Chapter 25 Roles of Classes</h2>
<div class="outline-text-2" id="text-27">


</div>

</div>

<div id="outline-container-28" class="outline-2">
<h2 id="sec-28">Appendix A</h2>
<div class="outline-text-2" id="text-28">


</div>

</div>

<div id="outline-container-29" class="outline-2">
<h2 id="sec-29">Appendix B</h2>
<div class="outline-text-2" id="text-29">


</div>

</div>

<div id="outline-container-30" class="outline-2">
<h2 id="sec-30">Appendix C</h2>
<div class="outline-text-2" id="text-30">


</div>
</div>
</div>

<div id="postamble">
<p class="date">Date: 2012-08-31 23:10:18 HKT</p>
<p class="author">Author: Shi Shougang</p>
<p class="creator">Org version 7.8.09 with Emacs version 24</p>
<a href="http://validator.w3.org/check?uri=referer">Validate XHTML 1.0</a>

</div>
</body>
</html>
