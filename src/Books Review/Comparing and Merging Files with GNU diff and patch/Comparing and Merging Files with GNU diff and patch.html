<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Comparing and Merging Files with GNU diff and patch Notes</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<meta name="title" content="Comparing and Merging Files with GNU diff and patch Notes"/>
<meta name="generator" content="Org-mode"/>
<meta name="generated" content="2012-09-26 23:12:45 HKT"/>
<meta name="author" content="Shi Shougang"/>
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  html { font-family: Times, serif; font-size: 12pt; }
  .title  { text-align: center; }
  .todo   { color: red; }
  .done   { color: green; }
  .tag    { background-color: #add8e6; font-weight:normal }
  .target { }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  {margin-left:auto; margin-right:0px;  text-align:right;}
  .left   {margin-left:0px;  margin-right:auto; text-align:left;}
  .center {margin-left:auto; margin-right:auto; text-align:center;}
  p.verse { margin-left: 3% }
  pre {
	border: 1pt solid #AEBDCC;
	background-color: #F3F5F7;
	padding: 5pt;
	font-family: courier, monospace;
        font-size: 90%;
        overflow:auto;
  }
  table { border-collapse: collapse; }
  td, th { vertical-align: top;  }
  th.right  { text-align:center;  }
  th.left   { text-align:center;   }
  th.center { text-align:center; }
  td.right  { text-align:right;  }
  td.left   { text-align:left;   }
  td.center { text-align:center; }
  dt { font-weight: bold; }
  div.figure { padding: 0.5em; }
  div.figure p { text-align: center; }
  div.inlinetask {
    padding:10px;
    border:2px solid gray;
    margin:10px;
    background: #ffffcc;
  }
  textarea { overflow-x: auto; }
  .linenr { font-size:smaller }
  .code-highlighted {background-color:#ffff00;}
  .org-info-js_info-navigation { border-style:none; }
  #org-info-js_console-label { font-size:10px; font-weight:bold;
                               white-space:nowrap; }
  .org-info-js_search-highlight {background-color:#ffff00; color:#000000;
                                 font-weight:bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="../../assets/stylesheet.css" />
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>

</head>
<body>
<div id="org-div-home-and-up" style="text-align:right;font-size:70%;white-space:nowrap;">
 <a accesskey="h" href="../../index.html"> UP </a>
 |
 <a accesskey="H" href="../../index.html"> HOME </a>
</div>

<div id="preamble">

</div>

<div id="content">
<h1 class="title">Comparing and Merging Files with GNU diff and patch Notes</h1>


<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">Overview</a></li>
<li><a href="#sec-2">Chapter 1: What Comparison Means</a>
<ul>
<li><a href="#sec-2-1">1.1 Hunks</a></li>
<li><a href="#sec-2-2">1.2 Suppressing Differences in Blank and Tab Spacing</a></li>
<li><a href="#sec-2-3">1.3 Suppressing Differences in Blank Lines</a></li>
<li><a href="#sec-2-4">1.4 Suppressing Case Differences</a></li>
<li><a href="#sec-2-5">1.5 Suppressing Lines Matching a Regular Expression</a></li>
<li><a href="#sec-2-6">1.6 Summarizing Which Files Differ</a></li>
<li><a href="#sec-2-7">1.7 Binary Files and Forcing Text Comparisons</a></li>
</ul>
</li>
<li><a href="#sec-3">Chapter 2: diff Output Formats</a>
<ul>
<li><a href="#sec-3-1">2.2.1 Detailed Description of Normal Format</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-1" class="outline-2">
<h2 id="sec-1">Overview</h2>
<div class="outline-text-2" id="text-1">

<p>gnu diff was written by Paul Eggert, Mike Haertel, David Hayes,
Richard Stallman, and Len Tower. Wayne Davison designed and implemented
the unified output format. The basic algorithm is described in
“An O(ND) Difference Algorithm and its Variations”, Eugene W. Myers,
Algorithmica Vol. 1 No. 2, 1986, pp. 251–266; and in “A File Comparison
Program”, Webb Miller and Eugene W. Myers, Software—Practice
and Experience Vol. 15 No. 11, 1985, pp. 1025–1040. The algorithm was
independently discovered as described in “Algorithms for Approximate String Matching”, E. Ukkonen, Information and Control Vol. 64, 1985,
pp. 100–118.
</p>
</div>

</div>

<div id="outline-container-2" class="outline-2">
<h2 id="sec-2">Chapter 1: What Comparison Means</h2>
<div class="outline-text-2" id="text-2">


</div>

<div id="outline-container-2-1" class="outline-3">
<h3 id="sec-2-1">1.1 Hunks</h3>
<div class="outline-text-3" id="text-2-1">

<p>When comparing two files, diff finds sequences of lines common to
both files, interspersed with groups of differing lines called
<i>hunks</i>.
</p>
</div>

</div>

<div id="outline-container-2-2" class="outline-3">
<h3 id="sec-2-2">1.2 Suppressing Differences in Blank and Tab Spacing</h3>
<div class="outline-text-3" id="text-2-2">

<p>The ‘-E’ and ‘&ndash;ignore-tab-expansion’ options ignore the distinction
between tabs and spaces on input. A tab is considered to be equivalent
to the number of spaces to the next tab stop. diff assumes that tab
stops are set every 8 print columns.
</p>
<p>
The ‘-b’ and ‘&ndash;ignore-space-change’ options are stronger. They
ignore white space at line end, and consider all other sequences of one or
more white space characters to be equivalent.
</p>
<p>
<code>diff</code> considers the following two lines to be equivalent, where ‘$’
denotes the line end:
</p>
<p class="verse">
Here lyeth muche rychnesse in lytell space. &ndash; John Heywood$<br/>
Here lyeth muche rychnesse in lytell space. &ndash; John Heywood $<br/>
</p>


<p>
The ‘-w’ and ‘&ndash;ignore-all-space’ options are stronger still. They
ignore difference even if one line has white space where the other line has
none.
</p>
<p>
<code>diff</code> considers the following two lines to be equivalent, where ‘$’ denotes the line end and ‘<sup>M’</sup>
denotes a carriage return:
</p>
<p class="verse">
Here lyeth muche rychnesse in lytell space.&ndash; John Heywood$<br/>
&nbsp;&nbsp; He relyeth much erychnes seinly tells pace. &ndash;John Heywood <sup>M</sup>$<br/>
</p>









</div>

</div>

<div id="outline-container-2-3" class="outline-3">
<h3 id="sec-2-3">1.3 Suppressing Differences in Blank Lines</h3>
<div class="outline-text-3" id="text-2-3">

<p>The ‘-B’ and ‘&ndash;ignore-blank-lines’ options ignore insertions or
deletions of blank lines. These options affect only lines that are completely
empty; they do not affect lines that look empty but contain space or tab
characters.
</p></div>

</div>

<div id="outline-container-2-4" class="outline-3">
<h3 id="sec-2-4">1.4 Suppressing Case Differences</h3>
<div class="outline-text-3" id="text-2-4">

<p>To request this, use the ‘-i’ or ‘&ndash;ignore-case’ option.
</p></div>

</div>

<div id="outline-container-2-5" class="outline-3">
<h3 id="sec-2-5">1.5 Suppressing Lines Matching a Regular Expression</h3>
<div class="outline-text-3" id="text-2-5">

<p>To ignore insertions and deletions of lines that match a grep-style regular
expression, use the ‘-I regexp’ or ‘&ndash;ignore-matching-lines=regexp’
option. For example, ‘diff -I ’^<a href="#digit">:digit:</a>’’ ignores all changes to lines
beginning with a digit.
</p>
<p>
You can specify more than one regular expression for lines to ignore
by using more than one ‘-I’ option. diff tries to match each line against
each regular expression.
</p></div>

</div>

<div id="outline-container-2-6" class="outline-3">
<h3 id="sec-2-6">1.6 Summarizing Which Files Differ</h3>
<div class="outline-text-3" id="text-2-6">

<p>diff simply reports whether files differ. The ‘-q’ and ‘&ndash;brief’
options select this output format.
</p>
<p>
Unlike diff, cmp cannot compare directories; it can only compare two
files.
</p></div>

</div>

<div id="outline-container-2-7" class="outline-3">
<h3 id="sec-2-7">1.7 Binary Files and Forcing Text Comparisons</h3>
<div class="outline-text-3" id="text-2-7">

<p>You can force diff to consider all files to be text files, and compare them
line by line, by using the ‘-a’ or ‘&ndash;text’ option.
</p>
<p>
You can also force diff to consider all files to be binary files, and
report only whether they differ (but not how). Use the ‘-q’ or ‘&ndash;brief’
option for this.
</p>
<p>
Use the ‘&ndash;binary’ option to force diff to read and write binary data
instead.
</p>
<p>
The ‘&ndash;strip-trailing-cr’ causes diff to treat input lines that end
in carriage return followed by newline as if they end in plain newline
</p>











</div>
</div>

</div>

<div id="outline-container-3" class="outline-2">
<h2 id="sec-3">Chapter 2: diff Output Formats</h2>
<div class="outline-text-2" id="text-3">


</div>

<div id="outline-container-3-1" class="outline-3">
<h3 id="sec-3-1">2.2.1 Detailed Description of Normal Format</h3>
<div class="outline-text-3" id="text-3-1">

<p>All line numbers are the original line numbers in each file. The types
of change commands are:
</p>
<ul>
<li><b>‘lar’</b>: Add the lines in range r of the second file after line l of the
  first file. For example, ‘8a12,15’ means append lines 12–15 of file 2
  after line 8 of file 1; or, if changing file 2 into file 1, delete lines 12–15 of file 2.
</li>
<li><b>‘fct’</b>: Replace the lines in range f of the first file with lines in range
</li>
</ul>

<p>t of the second file. This is like a combined add and delete,
but more compact. For example, ‘5,7c8,10’ means change
lines 5–7 of file 1 to read as lines 8–10 of file 2; or, if changing
file 2 into file 1, change lines 8–10 of file 2 to read as lines
5–7 of file 1.
‘rdl’ Delete the lines in range r from the first file; line l is where
they would have appeared in the second file had they not been deleted. For example, ‘5,7d3’ means delete lines 5–7
of file 1; or, if changing file 2 into file 1, append lines 5–7 of
file 1 after line 3 of file 2.
</p>


</div>
</div>
</div>
</div>

<div id="postamble">
<p class="date">Date: 2012-09-26 23:12:45 HKT</p>
<p class="author">Author: Shi Shougang</p>
<p class="creator">Org version 7.8.09 with Emacs version 24</p>
<a href="http://validator.w3.org/check?uri=referer">Validate XHTML 1.0</a>

</div>
</body>
</html>
